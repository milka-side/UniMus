{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Songs</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="icon" type="image/jpeg" href="{% static 'images/logo.jpg' %}?v=1">
</head>
<body>
    <header style="display: flex; align-items: center; justify-content: center; padding: 30px 20px;">
        <a href="{% url 'home' %}" style="text-decoration: none; display: flex; align-items: center;">
            <img src="{% static 'images/logo.jpg' %}"
                alt="UniMus Logo"
                class="main-logo">

            <span class="logo-text-styled">
                UniMus
            </span>
        </a>
    </header>
    <h1>My Added Songs ğŸµ</h1>
    <p>
        <a href="{% url 'add_song' %}">Add New Song</a>
    </p>

    <table style="width: 100%; border-collapse: separate; border-spacing: 0 15px;">
        <thead>
            <tr style="background: var(--pink-soft);">
                <th style="padding: 15px; text-align: left;">Title</th>
                <th style="padding: 15px; text-align: left;">Artist</th>
                <th style="padding: 15px; text-align: left;">Album</th>
                <th style="padding: 15px; text-align: left;">Year</th>
                <th style="padding: 15px; text-align: center;">Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for song in page_obj %}
            <tr style="background: white; box-shadow: 0 4px 10px var(--shadow);">
                <td style="padding: 15px; border-radius: 15px 0 0 15px;">{{ song.title }}</td>
                <td style="padding: 15px;">{{ song.artist }}</td>
                <td style="padding: 15px;">{{ song.album|default:"â€”" }}</td>
                <td style="padding: 15px;">{{ song.year|default:"â€”" }}</td>
                <td style="padding: 15px; text-align: center; border-radius: 0 15px 15px 0;">
                    <a href="{% url 'delete_song' song.pk %}" style="color: red; text-decoration: none; font-weight: bold;"
                       onclick="return confirm('Delete {{ song.title }} â€” {{ song.artist }}?')">Delete</a>
                </td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="5" style="padding: 30px; text-align: center;">
                    No songs added yet. <a href="{% url 'add_song' %}">Add your first one!</a> ğŸ’•
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {% if page_obj.has_other_pages %}
    <div style="text-align: center; margin: 30px 0; font-size: 1.1em;">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" style="text-decoration: none; color: var(--pink-dark);">â† Previous</a>
        {% endif %}

        <span style="margin: 0 15px; padding: 8px 15px; background: var(--pink-light); border-radius: 10px;">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" style="text-decoration: none; color: var(--pink-dark);">Next â†’</a>
        {% endif %}
    </div>
    {% endif %}

    <p><a href="{% url 'home' %}" style="text-decoration: none;">â† Back</a></p>
</body>
</html>
